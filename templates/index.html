<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dog vs Cat Classifier</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    
    :root {
      --color-primary: #2563eb;
      --color-accent: #16a34a;
      --color-bg: #f5f7fb;
      --color-card: #ffffff;
      --color-text: #0f172a; 
      --color-muted: #6b7280; 
      --color-border: #e5e7eb; 
    }
   
    .dark {
      --color-bg: #0b1220;     
      --color-card: #0f172a;   
      --color-text: #e5e7eb;   
      --color-muted: #94a3b8;  
      --color-border: #1f2937; 
    }

    /* Base reset-ish */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.55;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    img { max-width: 100%; height: auto; display: block; }

    /* Accessibility: focus visible */
    :focus-visible {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
      border-radius: 6px;
    }

    /* Layout */
    .container {
      width: 100%;
      max-width: 720px;
      margin: 0 auto;
      padding: 16px;
    }

    /* Navbar */
    .navbar {
      position: sticky;
      top: 0;
      z-index: 50;
      background: color-mix(in oklab, var(--color-card) 85%, transparent);
      backdrop-filter: saturate(1.1) blur(8px);
      border-bottom: 1px solid var(--color-border);
    }
    .nav-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 10px 16px;
      max-width: 1024px;
      margin: 0 auto;
    }
    .brand {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.2px;
      text-decoration: none;
      color: var(--color-text);
    }
    .brand-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      border-radius: 8px;
      background: var(--color-primary);
      color: #fff;
      font-size: 14px;
      font-weight: 700;
    }
    .nav-links {
      display: none;
      gap: 16px;
    }
    .nav-links a {
      color: var(--color-muted);
      text-decoration: none;
      font-size: 14px;
    }
    .nav-links a:hover { color: var(--color-text); }

    /* Theme toggle button */
    .icon-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid var(--color-border);
      background: transparent;
      color: var(--color-text);
      border-radius: 10px;
      padding: 8px 10px;
      cursor: pointer;
      transition: background .2s ease, border-color .2s ease;
    }
    .icon-btn:hover {
      background: color-mix(in oklab, var(--color-card) 85%, transparent);
      border-color: color-mix(in oklab, var(--color-border) 50%, var(--color-primary));
    }
    .icon {
      width: 20px; height: 20px; display: block;
    }
    .icon-sun { display: none; }
    .icon-moon { display: inline; }
    .dark .icon-sun { display: inline; }
    .dark .icon-moon { display: none; }

    /* Header spacing to account for sticky nav */
    .page-header-space { height: 8px; }

    /* Card */
    .card {
      background: var(--color-card);
      border: 1px solid var(--color-border);
      border-radius: 16px;
      padding: 20px;
      box-shadow:
        0 1px 2px rgba(0,0,0,0.04),
        0 6px 20px rgba(0,0,0,0.06);
    }

    /* Titles */
    .title {
      margin: 0 0 8px;
      font-size: clamp(22px, 5vw, 28px);
      font-weight: 800;
      letter-spacing: -0.02em;
    }
    .subtitle {
      margin: 0 0 20px;
      color: var(--color-muted);
      font-size: 14px;
    }

    /* Form */
    form {
      display: grid;
      gap: 14px;
      margin-top: 8px;
    }
    .file-field {
      display: grid;
      gap: 10px;
      text-align: left;
    }
    .file-label {
      font-size: 14px;
      color: var(--color-muted);
    }
    input[type="file"] {
      width: 100%;
      padding: 10px;
      border: 1px dashed var(--color-border);
      border-radius: 12px;
      background: color-mix(in oklab, var(--color-card) 85%, transparent);
      color: var(--color-text);
    }
    /* Style the file button for modern browsers */
    input[type="file"]::file-selector-button {
      border: 1px solid var(--color-border);
      background: var(--color-card);
      color: var(--color-text);
      padding: 8px 12px;
      border-radius: 8px;
      margin-right: 12px;
      cursor: pointer;
      transition: background .2s ease, border-color .2s ease;
    }
    input[type="file"]::file-selector-button:hover {
      background: color-mix(in oklab, var(--color-card) 85%, transparent);
      border-color: color-mix(in oklab, var(--color-border) 50%, var(--color-primary));
    }
    .filename {
      font-size: 12px;
      color: var(--color-muted);
      word-break: break-all;
    }

    /* Buttons */
    .btn {
      appearance: none;
      border: none;
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: transform .02s ease, box-shadow .2s ease, background .2s ease;
    }
    .btn-primary {
      background: var(--color-primary);
      color: #fff;
      box-shadow: 0 6px 16px color-mix(in oklab, var(--color-primary) 30%, transparent);
    }
    .btn-primary:hover {
      box-shadow: 0 10px 22px color-mix(in oklab, var(--color-primary) 40%, transparent);
    }
    .btn:active { transform: translateY(1px); }

    /* Preview and results */
    .preview {
      margin-top: 12px;
      border: 1px solid var(--color-border);
      border-radius: 12px;
      overflow: hidden;
      background: color-mix(in oklab, var(--color-card) 85%, transparent);
    }
    .preview img { display: block; width: 100%; height: auto; }

    .result {
      margin-top: 16px;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: color-mix(in oklab, var(--color-accent) 10%, transparent);
      color: var(--color-text);
      border: 1px solid color-mix(in oklab, var(--color-accent) 30%, var(--color-border));
      font-weight: 600;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 8px; height: 8px;
      border-radius: 50%;
      background: var(--color-accent);
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--color-accent) 15%, transparent);
    }

    /* Footer */
    footer {
      margin-top: 40px;
      border-top: 1px solid var(--color-border);
      background: color-mix(in oklab, var(--color-card) 85%, transparent);
    }
    .footer-inner {
      max-width: 1024px;
      margin: 0 auto;
      padding: 20px 16px;
      display: grid;
      gap: 10px;
      color: var(--color-muted);
      font-size: 14px;
    }
    .footer-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .footer-links {
      display: flex;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }
    .footer-links a {
      color: var(--color-muted);
      text-decoration: none;
    }
    .footer-links a:hover { color: var(--color-text); }

    /* Responsive */
    @media (min-width: 640px) {
      .nav-links { display: flex; }
      .card { padding: 24px; }
      .footer-inner { grid-template-columns: 1fr; }
    }
  </style>
  <script>
    // Persisted dark mode with system preference fallback
    (function initTheme() {
      try {
        const saved = localStorage.getItem('theme');
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const root = document.documentElement;
        if (saved === 'dark' || (!saved && prefersDark)) {
          root.classList.add('dark');
        } else {
          root.classList.remove('dark');
        }
      } catch (_) {}
    })();
    // Handle theme toggle after DOM ready
    document.addEventListener('DOMContentLoaded', () => {
      const toggle = document.getElementById('theme-toggle');
      const root = document.documentElement;
      function setTheme(mode) {
        if (mode === 'dark') {
          root.classList.add('dark');
          localStorage.setItem('theme', 'dark');
          toggle.setAttribute('aria-pressed', 'true');
          toggle.setAttribute('aria-label', 'Switch to light mode');
        } else {
          root.classList.remove('dark');
          localStorage.setItem('theme', 'light');
          toggle.setAttribute('aria-pressed', 'false');
          toggle.setAttribute('aria-label', 'Switch to dark mode');
        }
      }
      toggle.addEventListener('click', () => {
        const isDark = root.classList.contains('dark');
        setTheme(isDark ? 'light' : 'dark');
      });
      // Initialize aria state
      setTheme(root.classList.contains('dark') ? 'dark' : 'light');

      // File name and preview
      const fileInput = document.querySelector('input[type="file"][name="file"]');
      const filenameEl = document.getElementById('filename');
      const previewImg = document.getElementById('client-preview');
      const previewWrap = document.getElementById('preview-wrap');

      if (fileInput) {
        fileInput.addEventListener('change', () => {
          const file = fileInput.files && fileInput.files[0];
          if (file) {
            filenameEl.textContent = file.name;
            // Show client-side preview (does not replace server-rendered result)
            const reader = new FileReader();
            reader.onload = e => {
              previewImg.src = e.target.result;
              previewImg.alt = 'Selected image preview';
              previewWrap.hidden = false;
            };
            reader.readAsDataURL(file);
          } else {
            filenameEl.textContent = 'No file chosen';
            previewWrap.hidden = true;
          }
        });
      }
    });
  </script>
</head>
<body>
   <!-- Navbar  -->
  <header class="navbar" role="banner">
    <div class="nav-inner">
      <a href="#" class="brand" aria-label="Dog vs Cat Classifier Home">
        <span class="brand-badge">DC</span>
        <span>Dog vs Cat Classifier</span>
      </a>
      <nav class="nav-links" aria-label="Primary">
        <a href="#upload">Upload</a>
        <a href="#result">Result</a>
        <a href="#about">About</a>
      </nav>
      <button id="theme-toggle" class="icon-btn" type="button" aria-pressed="false" aria-label="Switch to dark mode">
         <!-- Moon icon (light mode prompt)  -->
        <svg class="icon icon-moon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z" stroke="currentColor" stroke-width="1.6" />
        </svg>
         <!-- Sun icon (dark mode prompt)  -->
        <svg class="icon icon-sun" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.6"/>
          <path d="M12 2v2M12 20v2M20 12h2M2 12H4M18.36 5.64l1.42 1.42M4.22 19.78l1.42-1.42M18.36 18.36l1.42-1.42M4.22 4.22l1.42 1.42" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </header>

  <div class="page-header-space" aria-hidden="true"></div>

   <!-- Main  -->
  <main class="container" id="upload">
    <section class="card" aria-labelledby="title">
      <h1 class="title" id="title">Dog vs Cat Classifier</h1>
      <p class="subtitle">Upload an image and let the model predict whether it’s a dog or a cat.</p>

      <form method="POST" enctype="multipart/form-data">
        <div class="file-field">
          <label for="file" class="file-label">Select an image (JPG, PNG):</label>
          <input id="file" type="file" name="file" accept="image/*" required />
          <div class="filename" id="filename">No file chosen</div>
        </div>

        <button type="submit" class="btn btn-primary">
           <!-- Small upload icon  -->
          <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 16V4m0 0 4 4m-4-4-4 4M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Predict 
        </button>
      </form>

       <!-- Client-side preview before submit  -->
      <div class="preview" id="preview-wrap" hidden>
        <img id="client-preview" src="/placeholder.svg" alt="" />
      </div>

       <!-- Server result  -->
      {% if prediction %}
        <div class="result" id="result" role="status" aria-live="polite">
          <span class="badge" aria-hidden="true"></span>
          <span>Prediction: {{ prediction }}</span>
        </div>
        <div class="preview" style="margin-top:12px;">
          <img src="{{ img_path }}" alt="Uploaded image used for prediction" />
        </div>
      {% endif %}
    </section>

     <!-- About section  -->
    <section class="container" id="about" style="padding-top: 16px;">
      <p class="subtitle" style="margin: 0;">
        <h2>About This Website</h2>
  <p>
    This is a Dog vs Cat Classification Website built using
    Deep Learning (CNN). The purpose of this site is to let you upload
    an image of a dog or a cat, and the model will predict whether the image
    contains a dog or a cat .
  </p>

  <h3>Guidelines:</h3>
  <ul>
    <li> Upload only images of dogs or cats.</li>
    <li> Image size should be less than 5 MB.</li>
    <li> Supported formats: JPG, JPEG, PNG.</li>
    <li> Do not upload photos of other animals or objects.</li>
    <li> Only one image can be uploaded at a time.</li>
  </ul>

  <h3>Model Information:</h3>
  <p>
    Unlike many projects that use pre-trained models (like ResNet,
    VGG, or MobileNet), this project does not rely on transfer learning.
    Instead, it is built using a custom CNN model that was trained
    from scratch with our own dataset.  
  </p>
  <p>
    This means the model uses its own logic and learning process,
    without borrowing features from existing pre-trained networks.
  </p>

  <p>
     <i>Note: This project is for educational purposes only and may not be
    100% accurate.</i>
  </p>
      </p>
    </section>
  </main>

   <!-- Footer  -->
  <!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<footer role="contentinfo">
  <div class="footer-inner">
    <div class="footer-top">
      <div style="display:flex;align-items:center;gap:10px;">
        <span class="brand-badge" aria-hidden="true">DC</span>
        <strong>Dog vs Cat Classifier</strong>
      </div>
      <div class="footer-links">
        <a href="#upload">Upload</a>
        <a href="#result">Result</a>
        <a href="#about">About</a>

        <!-- Social Icons -->
        <a href="https://www.linkedin.com/in/subhankar0002/" target="_blank" title="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
        <a href="https://github.com/subhankar0002" target="_blank" title="GitHub">
          <i class="fab fa-github"></i>
        </a>
        <a href="https://subhankar0002.github.io/My-portfolio/" target="_blank" title="Portfolio">
          <i class="fas fa-globe"></i>
        </a>
      </div>
    </div>

    <div style="color: var(--color-muted); margin-top:10px; text-align:center;">
      <span id="year"></span> • © 2025 Future Innovator. All Rights Reserved
    </div>

  </div>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</footer>

</body>
</html>